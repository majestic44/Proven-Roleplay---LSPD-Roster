<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LSPD Document</title>

  <!-- your existing styling -->
  <link rel="stylesheet" href="./info/info.css" />
  <link rel="stylesheet" href="./sop/sop-template.css" />
</head>

<body>
  <div class="app">

    <!-- Sidebar (same pattern as your other pages) -->
    <aside class="sidebar">
      <div class="brand">
        <div class="kicker">Los Santos Police Department</div>
        <div class="title">Information Center</div>
      </div>

      <nav class="nav">
        <button class="navItem" data-link="./info/index.html">
          Codes & Radio
          <span class="sub">10-Codes • Response Codes</span>
        </button>

        <button class="navItem" data-link="./policies/index.html">
          Policies
          <span class="sub">Conduct • Force • RP Standards</span>
        </button>

        <button class="navItem" data-link="./ranks/index.html">
          Rank Structure
          <span class="sub">Chain of command • Responsibilities</span>
        </button>

        <button class="navItem" data-link="./sop/index.html">
          SOP / Procedures
          <span class="sub">Operational procedures index</span>
        </button>

        <button class="navItem" data-link="./webroster.html">
          Web Roster
          <span class="sub">Roster • Embed</span>
        </button>
      </nav>

      <div class="sideFoot" id="docSideFoot">
        Loading…
      </div>
    </aside>

    <main class="main">
      <header class="topbar">
        <div class="topLeft">
          <div class="h1" id="docTitle">Loading…</div>
          <div class="h2" id="docSub">—</div>
        </div>

        <div class="topRight">
          <!-- optional: show role/user if logged in -->
          <div class="pill" id="authPill" style="display:none;"></div>
        </div>
      </header>

      <section class="panel">
        <div class="panelHeader">
          <div class="panelHeaderLeft">
            <div class="panelKicker" id="docKicker">Los Santos Police Department</div>
            <div class="panelTitle" id="docSection">Document</div>
          </div>

          <!-- Right meta box (uses your existing metaRow styling) -->
          <div class="panelHeaderRight">
            <div class="metaBox" id="metaBox"></div>
          </div>
        </div>

        <div class="contentPad">
          <!-- Content (HTML from API) -->
          <div id="docBody" class="docBody">
            Loading…
          </div>
        </div>

        <footer class="panelFoot">
          <div class="muted" id="updatedText">Last updated: —</div>
          <div class="muted" id="docFoot">Information Center</div>
        </footer>
      </section>

      <footer class="pageFoot">
        <span class="muted">SOP guidance is subordinate to server rules and staff direction where applicable.</span>
      </footer>
    </main>

  </div>

  <!-- auth + loader -->
  <script src="./shared/auth-config.js"></script>
  <script src="./shared/auth-client.js"></script>

  <!-- meta renderer you already have (or put it into shared/meta.js) -->
  <script src="./shared/meta-render.js"></script>

  <!-- the new viewer logic -->
  <script src="./shared/doc-viewer.js"></script>

  <script>
    // Sidebar nav buttons
    document.querySelectorAll(".navItem[data-link]").forEach(b => {
      b.addEventListener("click", () => (window.location.href = b.dataset.link));
    });
  </script>
</body>
</html>